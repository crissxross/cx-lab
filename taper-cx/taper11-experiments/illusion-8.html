<html>
	<!-- TITLE: UNPARALLEL PROCESSING -->
<body>
<style>
	body { overflow:hidden; } /* template */
	* { margin: 0;}
	main {
		display: grid;
		/* -9px to make space for template header 45px/5 */
		grid-auto-rows: calc(20vh - 5px - 9px);
		gap: 5px;
		font-family: sans-serif;
		background-color: hsl(0, 85%, 45%);
		border-block-end: 5px solid hsl(0 85% 45%);
	}
	.r {
		--w: 9.5vw;
		display: grid;
		grid-auto-flow: column;
		grid-auto-columns: var(--w);
		padding-inline: 4vw;
		gap: var(--w);
		background: #fff;
	}
	.r:nth-child(even) {
		justify-content: center;
	}
	.r:nth-child(3n) {
		justify-content: end;
	}
	p {
		background: #000;
		border-inline: 5px solid hsl(0 85% 45%);
    display: grid;
    place-content: center;
    color: #666;
    font-size: 15vmin;
	}
</style>
	<main>
	</main>
	<script>
		const main = document.querySelector('main');
		const time = 1500;
		const arr = [
			'=', '\\\\', '||', '//', 'll', '[[', ']]',
			'=', '\\\\', '||', '//', 'll', '[[', ']]',
			'=', '\\\\', '||', '//', 'll', '[[', ']]',
			'=', '\\\\', '||', '//', 'll', '=', '=',
			'=', '\\\\', '||', '//', 'll', '=', '=',
			'/|', '|/', '|\\', '\\|',
		]
		const rand = (arr) => arr[Math.floor(Math.random() * arr.length)];

		main.innerHTML = `<div class="r"><p></p><p></p><p></p><p></p><p></p></div>`.repeat(5);

		const pars = document.querySelectorAll('p');
		pars.forEach(p => {
			p.textContent = rand(arr);
			process(p, time);
		});

		function process(p, t) {
			if (p.textContent === '/|' || p.textContent === '|/' || p.textContent === '|\\' || p.textContent === '\\|') {
				setTimeout(() => {
					p.style.backgroundColor = '#900';
					p.style.boxShadow = 'inset 0 0 20px 7px hsla(350 100% 60% / 0.6)';
					setTimeout(() => {
						p.textContent = '';
						p.style.backgroundColor = '#000';
						p.style.boxShadow = 'none';
					}, t * 0.5);
				}, t * 0.25);
			}
		}
		setTimeout(() => location.reload(), time);
		</script>
</body>
</html>
