<html>

<body>
  <style>
    main {
      font-family: system-ui, sans-serif;
      max-width: 45ch;
      margin: 4rem auto;
      outline: silver solid 1px;
    }

    ol {
      font-family: monospace;
    }

    div {
      font-size: clamp(1rem, calc(1rem + 1vw), 2.00rem);
      margin: 4rem 0;
    }

    div p:not(:first-child) {
      opacity: 0;
    }

    .sr {
      position: absolute;
      overflow: hidden;
      clip: rect(0 0 0 0);
      height: 1px;
      width: 1px;
      margin: -1px;
      padding: 0;
      border: 0;
      white-space: nowrap;
    }
  </style>
  <main>
    <h1 class="sr">VoiceOver: A poem for screen readers</h1>

    <ol aria-hidden="true">
      <li>Activate screen reader: press Command + F5</li>
      <li>Enter web page: Caps Lock + â¬‡</li>
      <li>Read all: Caps Lock + A</li>
    </ol>

    <div>
      <p>You want to read?</p>
      <p class="sr">I want to read</p>
      <p class="sr">what's there?</p>
      <p>Who's there?</p>
      <p>You frown/squint at the computer/device</p>
      <p>A voice that is not mine speaks my thoughts</p>
      <p>Who speaks for me?</p>
      <p class="sr">Will you make the effort to hear me?</p>
      <p>Who leaves me unspoken?</p>
      <p class="sr">Don't leave me unspoken.</p>
      <p>The voice in your head, who is it?</p>
      <p>How do you picture what's said?</p>
      <p>Do you know where you are?</p>
    </div>

  </main>
  <script>
    console.log(navigator.userAgent);

    const pars = document.querySelectorAll('p');

// NOTE: this code doesn't work once the screen reader is activated because (copilot says) there's no direct way to listen to screen reader events in JavaScript. This is for privacy. The screen reader is a separate program that runs on the operating system, not in the browser. The browser can't access the screen reader's accessibility tree. The screen reader can't access the browser's DOM.
    document.addEventListener('keydown', function (event) {
      if (event.key === 'a') {

        console.log('A was pressed');

        pars.forEach(p => {
          p.style.opacity = 1;
        });

        // event.preventDefault(); // Prevent the default action
      }
    });

    document.addEventListener('keyup', (event) => {
      console.log('keyup event\n' + 'key: ' + event.key);
    })

  </script>
</body>

</html>
