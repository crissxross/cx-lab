<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Title (Taper #16)</title>

<!-- “Title” Copyright (C) 2026 Author

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved. This file is offered as-is,
without any warranty.

This is from Taper #16: For Good Measure, Spring 2026:

https://taper.badquar.to/16/title_of_your_work.html

... your creative statement here ...

*** BEGIN TEMPLATE INSTRUCTIONS ***
* All poem code goes between the closing header and closing body tags
below, and must not exceed 2KB (2048 bytes).
* Without removing any template punctuation, insert your author name,
poem title, and poem filename throughout the template, making sure your
text, capitalization, and punctuation is consistent across the file.
* Insert your creative statement above, wrapped to 72 characters, and
using typographical quotes “” and apostrophes ‘’.
* Do not modify the template in any other way.
*** END TEMPLATE INSTRUCTIONS ***

-->

<style>
	body { margin:0 ; overflow:hidden }
	a { color:#eee ; text-decoration:none }
	header { margin:0 ; padding:0 ; background-color:#444 ; color:#bbb ;
		position:relative ; z-index:1000 }
	header > h1 { margin:0 ; font-size:12px ; font-family:sans-serif ;
		border-bottom:1px #999 solid ; padding:5px 10px ; line-height:17px }
</style>
</head>
<body>
<header id=nav>
	<h1>
		<a href="prev.html">&lt;&lt;</a> &nbsp;
		<a href="index.html">Taper #16 :
		For Good Measure</a> : Spring 2026 &nbsp;
		<a href="next.html">&gt;&gt;</a><br>
		<a href="title_of_your_work.html">“Title”</a> by
		<a href="about.html#authorlastname">Author</a>
	</h1>
</header>
<!-- All poem code goes here & must be less than or equal to 2048 bytes -->
<!-- NOTES: fractal number of sides * maxLevel (of branching) = 16 -->

<!-- TODO: move these styles (or some of them) to inline ??? -->
<style>
  body {
      background: #000;
      color: #fff;
    }
  #x {
      display: grid;
      place-items: center;
      /* align-content: center; */
      /* gap: 1rem; */
    }
    #btn {
      padding: .7em;
      background: #333;
      font-size: 1rem;
      color: #fff;
      cursor: pointer;
      /* margin-bottom: 10vh; */
      &:hover {background: #444;}
    }
  </style>
  <div id="x">
    <h2>Dynamic Title</h2>
    <!-- <canvas id="canv" style="border: 1px solid #222;"></canvas> -->
    <canvas id="canv"></canvas>
    <button id="btn">New Measure / Standard</button>
  </div>

<script>
const ctx = canv.getContext("2d"),
  btn  = document.getElementById('btn'),
  h2 = document.querySelector('h2'),
  rand = Math.random,
  SIZE = 600;
canv.height = SIZE;
canv.width = SIZE;
ctx.lineCap = 'round';

function title(){
  const measures = 'Degree Moment Segment Portion Quantity Unit Volume Mass Length Height Depth Quota Magnitude'.split(' '),
    qualities = 'Intelligence Empathy Pleasure Insight Perception Understanding Wisdom Knowledge Awareness Trust Honesty Justice Reason'.split(' ');
  return `A ${measures[Math.floor(rand() * measures.length)]} of ${qualities[Math.floor(rand() * qualities.length)]}`;
}

function drawFractal(){

  h2.textContent = title();

  // valid pairs where sides * maxLevel === 16
  const combos = [[1,16],[2,8],[4,4],[8,2],[16,1]],
    [sides, maxLevel] = combos[Math.floor(rand() * combos.length)],
    branches = 2,
    lineWidth = Math.floor(rand() * 11) + 4,
    hue = rand() * 360,
    spread = rand() * 4 - 2,
    scale = rand() * 0.1 + 0.6;

  console.log(
    'sides:', sides,
    'maxLevel:', maxLevel,
    // 'lineWidth:', lineWidth,
    // 'spread:', spread,
    // 'scale:', scale
  );

  ctx.clearRect(0, 0, SIZE, SIZE);
  ctx.lineWidth = lineWidth;
  ctx.save();
  ctx.translate(SIZE/2, SIZE/2);
  for (let i = 0; i < sides; i++){
      drawBranch(0, maxLevel, spread, scale, branches, hue);
      ctx.rotate(Math.PI * 2 / sides);
  }
  ctx.restore();
}

function drawBranch(level, maxLevel, spread, scale, branches, hue){
    if (level > maxLevel) return;
    const size = 110,
      li = 10 + level * 10;
    ctx.strokeStyle = `hsl(${hue} 100 ${li})`;
    ctx.beginPath();
    ctx.moveTo(0, 0);
    ctx.lineTo(size, 0);
    ctx.stroke();

    // for (let i = 0; i < branches; i++){
    for (let i = branches; i--;){
        const position = size - (size / branches) * i;
        ctx.save();
        ctx.translate(position, 0);
        ctx.scale(scale, scale);
        ctx.rotate(spread);
        drawBranch(level + 1, maxLevel, spread, scale, branches, hue);
        ctx.restore();
    }
}

drawFractal();
btn.addEventListener('click', drawFractal);
</script>

</body>
</html>
