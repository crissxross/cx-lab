<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Title (Taper #15)</title>

<!-- ‚ÄúTitle‚Äù Copyright (C) 2025 Author

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved. This file is offered as-is,
without any warranty.

This is from Taper #15: Crossroads, Fall 2025:

https://taper.badquar.to/15/title_of_your_work.html

... your creative statement here ...

*** BEGIN TEMPLATE INSTRUCTIONS ***
* All poem code goes between the closing header and closing body tags
below, and must not exceed 2KB (2048 bytes).
* Without removing any template punctuation, insert your author name,
poem title, and poem filename throughout the template, making sure your
text, capitalization, and punctuation is consistent across the file.
* Insert your creative statement above, wrapped to 72 characters, and
using typographical quotes ‚Äú‚Äù and apostrophes ‚Äò‚Äô.
* Do not modify the template in any other way.
*** END TEMPLATE INSTRUCTIONS ***

-->

<style>
	body { margin:0 ; overflow:hidden }
	a { color:#eee ; text-decoration:none }
	header { margin:0 ; padding:0 ; background-color:#444 ; color:#bbb ;
		position:relative ; z-index:1000 }
	header > h1 { margin:0 ; font-size:12px ; font-family:sans-serif ;
		border-bottom:1px #999 solid ; padding:5px 10px ; line-height:17px }
</style>
</head>
<body>
<header id=nav>
	<h1>
		<a href="prev.html">&lt;&lt;</a> &nbsp;
		<a href="index.html">Taper #15 :
		Crossroads</a> : Fall 2025 &nbsp;
		<a href="next.html">&gt;&gt;</a><br>
		<a href="title_of_your_work.html">‚ÄúTitle‚Äù</a> by
		<a href="about.html#authorlastname">Author</a>
	</h1>
</header>
<canvas id="cv"></canvas>
  <script>
    c = cv.getContext('2d');
    cv.width = window.innerWidth;
    cv.height = window.innerHeight - 45; // adjust for header height
    let w = cv.width,
      h = cv.height,
      x = w / 2, // for custom 'cursor'
      y = h / 2,
      pX = 50, // percentX
      pY = 10, // percentY
      hu = 200,
      sa = 100,
      li = 50,
      co1 = `hsl(${hu} ${sa} ${li + 40})`,
      co2 = `hsl(${hu} ${sa} ${li - 40})`,
      g = c.createLinearGradient(0,0,0, h),

      // 15 words in each quadrant
      // TOP LEFT: memories...
      // TOP RIGHT: hope...
      // BOTTOM LEFT: pollution...
      // BOTTOM RIGHT: apocalypse...

      // NOTE: DO NOT exceed 599 characters in ws string (excluding '')
      // current string length: 584

      // tL (memories) , tR (hope), bL (pollution), bR (apocalypse)
      ws='memories.nature.historical.golden.tradition.rose-tinted.classical.folklore.heritage.quiet.bygone.simpler.nostalgia.pastoral.arcadia.hope.feminism.equality.diversity.inclusion.empowerment.fairness.healthcare.peace.democracy.sustainable.empathy.social.justice.cohesion.pollution.misogyny.oil.child labour.fossil fuels.war.racism.imperialism.monarchy.brutality.injustice.colonialism.bigotry.infant mortality.disease.apocalypse.catastrophe.deforestation.ocean warming.wildfires.post-truth.inequality.climate collapse.extinction.oligarchs.libertarian.extremism.desertification.anxiety.doom'.split('.'),
      txt = (x, y, t, H,S,L, a, b) => {
        c.save();
        c.fillStyle = `hsl(${H} ${S} ${L})`;
        c.textAlign = a;
        c.textBaseline = b;
        c.fillText(t, x, y);
        c.restore();
      }
      // function ran(min,max) {return Math.random()*(max-min)+min}
      r = (a, b) => Math.random() * (b - a) + a;

    g.addColorStop(0, co1);
    g.addColorStop(1, co2);
    c.fillStyle = g;
    c.fillRect(0, 0, w, h);
    // NOTE: w 12 x h 7 is 16:9 ratio
    // ctx.font = '7vw sans-serif';
    c.font = '12vh sans-serif';

    up();

    onmousemove = (e) => {
      // pX = Math.floor((e.x / w) * 100);
      // pY = Math.floor((e.y / h) * 100);
      // bitwise OR is more concise than Math.floor
      pX = (e.x / w * 100) | 0;
      pY = (e.y / h * 100) | 0;
      x = e.offsetX;
      y = e.offsetY;
      up();

      // liB = pY < 50 ? li - 65 : li - 15;
      liB = pY < 50 ? li - 65
          : pY < 70 ? li - 15
          : li - 10;

      // TOP LEFT (align right)
      txt(
        w*r(0.44, 0.49),
        h*r(0.1, 0.5),
        ws[pX % 15],
        hu+15,
        sa,
        li,
        'right',
        'bottom'
    );
      // TOP RIGHT (align left)
      txt(
        w*r(0.51, 0.56),
        h*r(0.1, 0.5),
        ws[15 + (pX % 15)],
        hu,
        sa,
        li,
        'left',
        'bottom'
      );
      // BOTTOM LEFT (align right)
      txt(
        w*r(0.44, 0.49),
        h*r(0.51, 0.9),
        ws[30 + (pY % 15)],
        (hu = pY > 45 ? 330 + ((100 - pX) * 0.6) : hu + 10),
        (sa = pY > 70 ? sa + 50 : sa),
        liB,
        'right',
        'top'
    );
      // BOTTOM RIGHT (align left)
      txt(
        w*r(0.51, 0.56),
        h*r(0.51, 0.9),
        ws[45 + (pY % 15)],
        (hu = pY > 50 ? 330 + (pX * 0.6) : hu + 20),
        (sa = pY > 70 ? sa + 50 : sa),
        liB,
        'left',
        'top'
      );
      // console.log('percentY', pY, 'percentX', pX);
      // console.log('liBtm', liBtm);
    };

    // update
    function up() {
      // hue = Math.floor(pX * 3.6);
      // üëá invert (& limit) the color range so blues in past & reds in future
      // hu = Math.floor((100 - pX) * 2.5) - 30;
      hu = ((100 - pX) * 2.5 - 30) | 0; // bitwise OR is more concise than Math.floor
      sa = 100 - pY;
      li = 100 - pY;
      co1 = `hsl(${hu} ${sa} ${li})`;
      co2 = `hsl(${hu} ${sa} ${li - 40})`;
      g.addColorStop(0, co1);
      g.addColorStop(1, co2);
      c.save();
      c.globalAlpha = 0.1; // 0.05-0.2 work well
      c.fillRect(0, 0, w, h);
      c.restore();

      // TRIANGLE
      // Calculate angle based on mouse movement direction
      let a = Math.atan2(y - (h/2), x - (w/2));
      // Rotate the triangle to point in direction of travel
      c.save();
      c.translate(x, y);
      c.rotate(a + Math.PI/2); // Add PI/2 to make triangle point forward
      c.translate(-x, -y);
      // (Re)draw triangle at origin for rotation
      c.beginPath();
      c.moveTo(x, y - 30);
      c.lineTo(x - 20, y + 20);
      c.lineTo(x + 20, y + 20);
      c.closePath();
      c.stroke();
      c.restore();

      // console.log('hue', hu, 'sat', sa, 'li', li);
    }
  </script></body>
</html>
